# Spotify Podcasts üéô

Third party app to explore Spotify podcasts/episodes and manage your library.

![podcast list on web and mobile](https://podcasts.gnbaron.com/img/demo.png)

## üöÄ Built with

- [Typescript](https://www.typescriptlang.org/)
- [React](https://github.com/facebook/react/)
- [Next.js](https://nextjs.org/)
- [Spotify Web API](https://developer.spotify.com/documentation/web-api/)
- [React Query](https://github.com/tannerlinsley/react-query/)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)

The UI components were written using [Typescript](https://www.typescriptlang.org/) / [React](https://github.com/facebook/react/) and styled with [CSS modules](https://github.com/css-modules/css-modules), while [Next.js](https://nextjs.org/) takes care of all the boring stuff such as bundling, code splitting and serving assets.

Even though this was built over Next.js runtime framework I opted for mostly not using `next/router` and `next/link` as I was exploring the idea of creating a "hybrid" single page app experience (content sits behind a login anyway and SEO wasn't a requirement) where I can throw some SSR/SSG in the mix if needed (e.g. login, landing page).
The cool part about it is that we have most of the other Next.js benefits like great DX, close to zero config, `Image` component and so on without having to worry about persistent layouts.

The content is provided by the [Spotify Web API](https://developer.spotify.com/documentation/web-api/) and I've used [React Query](https://github.com/tannerlinsley/react-query/) for managing server state and data fetching. The API authentication goes through a couple of Next.js serverless functions but is mostly handled by the Spotify API.

As far as testing goes, I've used [Jest](https://jestjs.io/) + [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/) for a more unit/integration testing approach. While some [Cypress](https://www.cypress.io/) e2e tests would be great, they are not so practical in this case as authentication goes through third party page and there is no API test environment available. Testing data is generated by a [Fishery](https://github.com/thoughtbot/fishery/) factory which uses [Faker.js](https://github.com/marak/Faker.js/) under the hood for random but valid data.

## ‚ö°Ô∏è Running Locally

The app is live at https://podcasts.gnbaron.com but in case you would like to run it locally follow the steps below.

Register your app within the [Spotify Developer Console](https://developer.spotify.com/dashboard) and make sure **Redirect URIs** point to `http://localhost:3000/api/auth/callback`.

Then grab your `CLIENT_ID` / `CLIENT_SECRET` and create a `.env.local` file like this:

```bash
CLIENT_ID= # your client id
CLIENT_SECRET= # your client secret
AUTH_REDIRECT_URI=http://localhost:3000/api/auth/callback
```

After that you should be good to go:

```bash
$ yarn dev    # run next development mode
$ yarn build  # creates an optimized production build
$ yarn start  # run app in production mode
$ yarn test   # run unit tests
```

## üëã Feedback

If you have any suggestion, question or comment feel free to reach out and say hello.

## üìù License

This project is licensed under the [MIT](https://github.com/gnbaron/spotify-podcasts/blob/main/LICENSE) license.
